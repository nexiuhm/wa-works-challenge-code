[{"C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\index.tsx":"1","C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\reportWebVitals.ts":"2","C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\App.tsx":"3","C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\Api.tsx":"4","C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\components\\SortTable.tsx":"5","C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\components\\DropdownFilter.tsx":"6","C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\components\\Popup.tsx":"7","C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\components\\MovieDetails.tsx":"8","C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\components\\blurContainer.tsx":"9","C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\hooks\\CompositeFilter.tsx":"10"},{"size":500,"mtime":499162500000,"results":"11","hashOfConfig":"12"},{"size":425,"mtime":499162500000,"results":"13","hashOfConfig":"12"},{"size":3187,"mtime":1618459348565,"results":"14","hashOfConfig":"12"},{"size":387,"mtime":1618459254171,"results":"15","hashOfConfig":"12"},{"size":3305,"mtime":1618459155454,"results":"16","hashOfConfig":"12"},{"size":912,"mtime":1618459724889,"results":"17","hashOfConfig":"12"},{"size":1120,"mtime":1618457612329,"results":"18","hashOfConfig":"12"},{"size":1456,"mtime":1618457570595,"results":"19","hashOfConfig":"12"},{"size":477,"mtime":1618459248709,"results":"20","hashOfConfig":"12"},{"size":1454,"mtime":1618459162404,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"1w8xgx7",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"24"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"24"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"24"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"24"},"C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\index.tsx",[],["49","50"],"C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\reportWebVitals.ts",[],"C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\App.tsx",["51","52","53"],"/** @jsxRuntime classic */\n/** @jsx jsx */\n\nimport { css, jsx } from '@emotion/react'\nimport React from 'react';\nimport SortTable from \"./components/SortTable\";\nimport useCompositeFilter from \"./hooks/CompositeFilter\";\nimport Dropdown from \"./components/DropdownFilter\"\nimport './App.css';\nimport getMovieBySearch from './Api';\nimport Popup from \"./components/Popup\"\nimport MovieDetails from \"./components/MovieDetails\"\nimport BlurContainer from \"./components/blurContainer\"\nimport { bodyBase, appBase } from './styles/Styles';\n\n\nconst spaceThemedMovies = [\"interstellar\", \"alien\", \"2001: A Space Odyssey\", \"Gravity\", \"Star Wars\", \"Europa Report\", \"Moon\", \"Sunshine\", \"Apollo 13\", \"Contact\", \"The Martian\", \"Event Horizon\", \"Elysium\", \"Avatar\", \"Pitch Black\"];\n\n\n\nexport type MovieData = {\n  Title: string,\n  Year: string,\n  Metascore: string,\n  imdbRating: number,\n  Runtime: string,\n  Poster: string,\n  Plot: string,\n}\n\n\n\nexport default function App() {\n\n  /* Init */\n  const [movieData, setMovieData] = React.useState<MovieData[]>([]);\n  const [filteredMovies, setFilteredMovies] = React.useState<MovieData[] | null>([]);\n  const { filteredData, addFilter, removeFilter } = useCompositeFilter<MovieData>(movieData)\n  const [selectedMovie, setSelectedMovie] = React.useState<MovieData>()\n\n\n\n  React.useEffect(() => {\n\n    spaceThemedMovies.forEach((title: string) => {\n      getMovieBySearch(title).then(({ Title, Year, Metascore, Rated, Runtime, Poster, Plot, imdbRating }) => {\n        setMovieData((movieData) => [...movieData, { Title: Title, Year: Year, Metascore: Metascore, imdbRating: imdbRating, Runtime: Runtime, Poster: Poster, Plot: Plot }])\n      })\n\n    })\n\n  }, [])\n\n  React.useEffect(() => {\n    setFilteredMovies(filteredData);\n  }, [filteredData])\n\n\n  React.useEffect(() => {\n    setFilteredMovies(movieData)\n  }, [movieData])\n\n\n  return (\n    <div className=\"App\">\n\n      <BlurContainer blur={selectedMovie ? true : false}>\n\n\n        <h1>SPACE THEMED MOVIES</h1>\n\n\n        { /* ---- Dropdown   --------------------------------------------------- */}\n        <Dropdown>\n          <div>\n            <label><input type=\"checkbox\" onChange={(e) => e.target.checked ? addFilter(\"<year2k\", (m: MovieData) => parseInt(m.Year) < 2000) : removeFilter(\"<year2k\")} /> Before year 2000</label>\n            <label><input type=\"checkbox\" onChange={(e) => e.target.checked ? addFilter(\">7.7imdb\", (m: MovieData) => m.imdbRating > 7.5) : removeFilter(\">7.7imdb\")} /> High rated imdb</label>\n\n          </div>\n        </Dropdown>\n\n        { /* ---- Table ----------------------------------------- */}\n\n        {filteredMovies &&\n          <SortTable\n            onItemSelected={(movie: MovieData) => { setSelectedMovie(movie) }}\n            columnLabels={[\"Title\", \"Year\", \"Metascore\", \"imdbRating\", \"Runtime\"]}\n            data={filteredMovies}\n          />}\n\n      </BlurContainer>\n\n\n\n      { /* ----- Popup----------------------------------------  */}\n\n      {selectedMovie &&\n        <Popup onClose={() => { setSelectedMovie(undefined); }} visible={selectedMovie ? true : false}>\n          <MovieDetails movie={selectedMovie}></MovieDetails>\n        </Popup>}\n\n    </div>\n  );\n}\n","C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\Api.tsx",[],"C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\components\\SortTable.tsx",["54"],"\r\nimport { useState, useEffect } from \"react\";\r\n\r\nimport { css, cx } from '@emotion/css'\r\n\r\n\r\ntype Props<T, K> = {\r\n  data: T[];\r\n  columnLabels: K[];\r\n  className?: string;\r\n  onItemSelected?: Function | null;\r\n  //tableHeadData: {label:String, sortKey:String}[];\r\n\r\n}\r\n\r\ntype sortState<K> = {\r\n  sortColumn: K,\r\n  ascending: boolean\r\n\r\n}\r\n\r\n/* Todo : move to some kind of util/helper functions file */\r\nfunction sortArrayByKey<T, K extends keyof T>(array: T[], key: K, ascending: boolean): any[] {\r\n\r\n\r\n  console.log(array, key, ascending)\r\n  const sortedArray = [...array].sort((a, b) => {\r\n    return (a[key] < b[key]) ? -1 : (a[key] > b[key]) ? 1 : 0\r\n  });\r\n\r\n  console.log(sortedArray)\r\n\r\n  return ascending ? sortedArray : sortedArray.reverse(); // probably not optimal\r\n\r\n}\r\n\r\n\r\n\r\nexport default function SortTable<T, K extends keyof T>({ data, columnLabels, onItemSelected = null }: Props<T, K>) {\r\n\r\n\r\n\r\n  const [sortState, setSortState] = useState<sortState<K>>({ sortColumn: columnLabels[0], ascending: true })\r\n  const [_data, setData] = useState(data)\r\n\r\n\r\n\r\n  /* When internal sort state or data prop is updated, sort movies */\r\n\r\n  useEffect(() => {\r\n\r\n    setData(sortArrayByKey(data, sortState.sortColumn, sortState.ascending))\r\n\r\n    console.log(data)\r\n  }, [sortState, data])\r\n\r\n\r\n  /* Reverse sort direction if same colulmn is selected twice, otherwise sort the new column ascending */\r\n  const updateSortState = (column: K) => column === sortState.sortColumn ? setSortState({ sortColumn: column, ascending: !sortState.ascending }) : setSortState({ sortColumn: column, ascending: true })\r\n\r\n\r\n\r\n\r\n\r\n\r\n  const renderTableRow = (item: T) =>\r\n\r\n    <tr onClick={() => (onItemSelected && onItemSelected(item))}>\r\n      {columnLabels.map((key) => <td> {item[key]} </td>)}\r\n    </tr>\r\n\r\n  const renderTabelHead = (label: K) =>\r\n\r\n    <td onClick={() => updateSortState(label)}>\r\n      {label}\r\n    </td>\r\n\r\n\r\n\r\n\r\n  return (\r\n\r\n    /* todo move styling */\r\n\r\n    <table className={css`\r\n        padding: 10px;\r\n        background: linear-gradient(90deg, rgba(121,62,224,0.7) 0%, rgba(62,121,227,0.3) 52%, rgba(38,96,201,0.7) 83%);\r\n        font-size: 24px;\r\n        border-radius: 4px;\r\n        width: 100%;\r\n        user-select: none;\r\n        \r\n        color: white;\r\n        border: 0;\r\n     \r\n        \r\n        \r\n        font-size: 12px;\r\n        border-collapse: collapse; \r\n        box-sizing: border-box;\r\n        \r\n        tr:hover {\r\n          background: rgba(121,62,224,0.4598214285714286);\r\n          \r\n          box-shadow: 0 0 0 1px #999999;\r\n          transform: scale(1.01);\r\n         \r\n\r\n         \r\n          \r\n        }\r\n\r\n        tr {\r\n          height: 20px;\r\n          min-height: 20px;\r\n          max-height: 20px;\r\n          box-sizing: border-box;\r\n          overflow:hidden;\r\n         \r\n         \r\n          \r\n         \r\n        }\r\n\r\n        td {\r\n          padding: 20px;\r\n          width: 100px;\r\n          max-width: 100px;\r\n          min-width: 100px;\r\n          box-sizing: border-box;\r\n          \r\n        }\r\n      `}>\r\n\r\n      <thead>\r\n        <tr>\r\n          {columnLabels.map((label) => renderTabelHead(label))}\r\n        </tr>\r\n      </thead>\r\n\r\n      <tbody>\r\n        {_data.map((item) => renderTableRow(item))}\r\n      </tbody>\r\n\r\n    </table>\r\n\r\n  )\r\n\r\n}","C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\components\\DropdownFilter.tsx",["55","56","57","58","59"],"C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\components\\Popup.tsx",["60","61","62"],"/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\n\r\nimport { css, jsx } from '@emotion/react'\r\nimport React, { Children, useEffect, useState } from 'react';\r\n\r\n\r\n\r\n\r\ntype Props = {\r\n    visible: boolean\r\n    children: React.ReactNode\r\n    onClose: Function\r\n}\r\nexport default function Popup({visible,onClose, children }:Props) {\r\n\r\n    \r\n\r\n    const screenCenterFixed = css({transform: \"translate(-50%, -50%)\",top:\"50%\",left: \"50%\" ,position:\"fixed\" });\r\n    const topRightAbsolute = css`\r\n    position:absolute;\r\n    font-size:50px;\r\n    right:30px;\r\n    top:0;\r\n    padding: 5px;\r\n    color:white;\r\n    cursor: pointer;\r\n    &:hover {\r\n        color:#aa70e0;\r\n    }`;\r\n\r\n    console.log(topRightAbsolute)\r\n    \r\n    console.log(\"rendering again\");\r\n    \r\n    const closeButton = <div css={topRightAbsolute} onClick={()=>onClose()}>X</div> \r\n\r\n    const renderModalWindow =  \r\n\r\n    <div css={{position:\"absolute\",width:\"100%\",height:\"100%\"}}>\r\n        <div css={screenCenterFixed}> {closeButton}{children }</div>\r\n    </div>\r\n \r\n\r\n    return(\r\n\r\n        \r\n        visible ? renderModalWindow : null\r\n       \r\n    )\r\n\r\n\r\n\r\n}","C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\components\\MovieDetails.tsx",["63","64","65","66"],"/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\n\r\nimport { css, jsx } from '@emotion/react'\r\nimport React, { Children } from 'react';\r\nimport {MovieData} from \"../App\"\r\n\r\n  \r\ntype Props = {\r\n    movie:MovieData\r\n \r\n}\r\nexport default function MovieDetails({movie}:Props) {\r\n\r\n    const screenCenterFixed = css({transform: \"translate(-50%, -50%)\",top:\"50%\",left: \"50%\" ,position:\"fixed\" });\r\n    const topRightAbsolute = css`\r\n    position:absolute;\r\n    font-size:50px;\r\n    right:30px;\r\n    top:0;\r\n    padding: 5px;\r\n    color:white;\r\n    cursor: pointer;\r\n    &:hover {\r\n        color:#aa70e0;\r\n    }`;\r\n\r\n\r\n    return(\r\n\r\n        \r\n        <div css={{\r\n            background: \"linear-gradient(90deg, rgba(31,20,50,1) 0%, rgba(23,33,48,1) 52%, rgba(0,0,0,1) 83%);\", display: \"flex\",borderRadius: \"10px\", height:\"100%\", width:\"100%\", margin:\"0\"}}>\r\n\r\n\r\n            <div>\r\n                <img css={{padding: \"10px\"}}src={movie.Poster}></img>\r\n                \r\n                 \r\n            </div>\r\n            \r\n            <div css={{padding: \"50px\"}}>\r\n            <h1 css={{margin:0}}>{movie.Title}</h1> \r\n                \r\n                  \r\n                <div>Release: {movie.Year}</div>\r\n                <div>Runtime: {movie.Runtime}</div>\r\n                <h3>Plot</h3>\r\n                <p css={{fontSize:\"18px\"}}>{movie.Plot}</p>\r\n            </div>\r\n            \r\n            \r\n            \r\n        </div>\r\n        \r\n\r\n       \r\n    )\r\n\r\n\r\n\r\n}","C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\components\\blurContainer.tsx",["67","68","69","70"],"/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\n\r\nimport { css, jsx } from '@emotion/react'\r\nimport React, { Children, useEffect, useState } from 'react';\r\n\r\n\r\n\r\ntype Props = {\r\n    blur: boolean\r\n    children: React.ReactNode\r\n}\r\nexport default function BlurContainer({ blur, children }: Props) {\r\n\r\n\r\n    const blurAmount = blur ? \"50px\" : \"0px\"\r\n    console.log(blur);\r\n\r\n    return (\r\n\r\n\r\n        <div css={{ filter: `blur(${blurAmount})` }}>{children}</div>\r\n\r\n    )\r\n\r\n\r\n\r\n}","C:\\Users\\Erlend\\Desktop\\thechall\\wa-works-challenge-code\\src\\hooks\\CompositeFilter.tsx",["71","72"],"import { useEffect, useState } from 'react';\r\n\r\ntype Filter = {\r\n  filterName: string,\r\n  condition: Function\r\n\r\n}\r\n\r\n\r\nexport default function useCompositeFilter<T>(baseData: T[]) {\r\n\r\n  const [filters, setFilters] = useState<Filter[]>([])\r\n  const [filteredData, setFilteredData] = useState<T[] | null>(null)\r\n\r\n  function addFilter(filterName: string, condition: Function) {\r\n\r\n    setFilters([...filters, { filterName: filterName, condition: condition }])\r\n\r\n    console.log(\"Added Filter\", [...filters, { filterName: filterName, condition: condition }])\r\n\r\n  }\r\n\r\n  function removeFilter(filterName: string) {\r\n\r\n    const match = filters.filter((o) => o.filterName != filterName)\r\n\r\n    console.log(\"Removed filter testta her\", match)\r\n    setFilters(match)\r\n\r\n  }\r\n\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    console.log(\"filters aktiv:\", filters)\r\n\r\n\r\n    // Settil til orginal data om ingen aktive filtere\r\n    if (filters.length === 0) { setFilteredData(baseData); return; }\r\n\r\n    const filterResult = baseData.filter((o) => {\r\n\r\n      return (\r\n        filters.every((f) => {\r\n          console.log(f)\r\n          return f.condition(o)\r\n        })\r\n      )\r\n\r\n\r\n    })\r\n\r\n    setFilteredData(filterResult);\r\n    console.log(\"debug: resultat\", filterResult)\r\n\r\n\r\n\r\n\r\n  }, [filters])\r\n\r\n\r\n  function applyFilters<T>(dataSet: T[]) {\r\n\r\n\r\n  }\r\n\r\n\r\n  return { filteredData: filteredData, addFilter: addFilter, removeFilter: removeFilter, applyFilters }\r\n\r\n\r\n}",{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","severity":1,"message":"78","line":4,"column":10,"nodeType":"79","messageId":"80","endLine":4,"endColumn":13},{"ruleId":"77","severity":1,"message":"81","line":14,"column":10,"nodeType":"79","messageId":"80","endLine":14,"endColumn":18},{"ruleId":"77","severity":1,"message":"82","line":14,"column":20,"nodeType":"79","messageId":"80","endLine":14,"endColumn":27},{"ruleId":"77","severity":1,"message":"83","line":4,"column":15,"nodeType":"79","messageId":"80","endLine":4,"endColumn":17},{"ruleId":"77","severity":1,"message":"84","line":1,"column":27,"nodeType":"79","messageId":"80","endLine":1,"endColumn":36},{"ruleId":"77","severity":1,"message":"85","line":1,"column":38,"nodeType":"79","messageId":"80","endLine":1,"endColumn":59},{"ruleId":"77","severity":1,"message":"83","line":2,"column":15,"nodeType":"79","messageId":"80","endLine":2,"endColumn":17},{"ruleId":"77","severity":1,"message":"86","line":3,"column":10,"nodeType":"79","messageId":"80","endLine":3,"endColumn":22},{"ruleId":"77","severity":1,"message":"87","line":3,"column":24,"nodeType":"79","messageId":"80","endLine":3,"endColumn":34},{"ruleId":"77","severity":1,"message":"88","line":5,"column":17,"nodeType":"79","messageId":"80","endLine":5,"endColumn":25},{"ruleId":"77","severity":1,"message":"84","line":5,"column":27,"nodeType":"79","messageId":"80","endLine":5,"endColumn":36},{"ruleId":"77","severity":1,"message":"89","line":5,"column":38,"nodeType":"79","messageId":"80","endLine":5,"endColumn":46},{"ruleId":"77","severity":1,"message":"88","line":5,"column":17,"nodeType":"79","messageId":"80","endLine":5,"endColumn":25},{"ruleId":"77","severity":1,"message":"90","line":15,"column":11,"nodeType":"79","messageId":"80","endLine":15,"endColumn":28},{"ruleId":"77","severity":1,"message":"91","line":16,"column":11,"nodeType":"79","messageId":"80","endLine":16,"endColumn":27},{"ruleId":"92","severity":1,"message":"93","line":37,"column":17,"nodeType":"94","endLine":37,"endColumn":64},{"ruleId":"77","severity":1,"message":"78","line":4,"column":10,"nodeType":"79","messageId":"80","endLine":4,"endColumn":13},{"ruleId":"77","severity":1,"message":"88","line":5,"column":17,"nodeType":"79","messageId":"80","endLine":5,"endColumn":25},{"ruleId":"77","severity":1,"message":"84","line":5,"column":27,"nodeType":"79","messageId":"80","endLine":5,"endColumn":36},{"ruleId":"77","severity":1,"message":"89","line":5,"column":38,"nodeType":"79","messageId":"80","endLine":5,"endColumn":46},{"ruleId":"95","severity":1,"message":"96","line":25,"column":54,"nodeType":"97","messageId":"98","endLine":25,"endColumn":56},{"ruleId":"99","severity":1,"message":"100","line":60,"column":6,"nodeType":"101","endLine":60,"endColumn":15,"suggestions":"102"},"no-native-reassign",["103"],"no-negated-in-lhs",["104"],"@typescript-eslint/no-unused-vars","'css' is defined but never used.","Identifier","unusedVar","'bodyBase' is defined but never used.","'appBase' is defined but never used.","'cx' is defined but never used.","'useEffect' is defined but never used.","'JSXElementConstructor' is defined but never used.","'forEachChild' is defined but never used.","'JsxElement' is defined but never used.","'Children' is defined but never used.","'useState' is defined but never used.","'screenCenterFixed' is assigned a value but never used.","'topRightAbsolute' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'baseData'. Either include it or remove the dependency array. If 'setFilteredData' needs the current value of 'baseData', you can also switch to useReducer instead of useState and read 'baseData' in the reducer.","ArrayExpression",["105"],"no-global-assign","no-unsafe-negation",{"desc":"106","fix":"107"},"Update the dependencies array to be: [baseData, filters]",{"range":"108","text":"109"},[1271,1280],"[baseData, filters]"]